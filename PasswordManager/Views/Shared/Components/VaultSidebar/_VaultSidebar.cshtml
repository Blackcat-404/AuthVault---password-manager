@using PasswordManager.ViewModels.Vault
@model VaultSidebarViewModel
@{
    var userName = Model.UserName;
    var currentAction = ViewContext.RouteData.Values["action"]?.ToString() ?? "";
    var itemCount = Model.CountAllItems;
}

<!-- Sidebar -->
<aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
        <div class="logo-section">
            <div class="logo-icon">
                <svg xmlns="http://www.w3.org/2000/svg"
                     width="32"
                     height="32"
                     viewBox="0 0 24 24"
                     fill="none"
                     stroke="currentColor"
                     stroke-width="2"
                     stroke-linecap="round"
                     stroke-linejoin="round">
                    <path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z" />
                </svg>
            </div>
            <span class="logo-text">AuthVault</span>
        </div>
        <button class="sidebar-toggle" onclick="toggleSidebar()">
            <svg xmlns="http://www.w3.org/2000/svg"
                 width="24"
                 height="24"
                 viewBox="0 0 24 24"
                 fill="none"
                 stroke="currentColor"
                 stroke-width="2"
                 stroke-linecap="round"
                 stroke-linejoin="round"
                 class="toggle-icon">
                <rect width="18" height="18" x="3" y="3" rx="2" />
                <path d="M9 3v18" />
                <path d="m16 15-3-3 3-3" />
            </svg>
        </button>
    </div>

    <nav class="sidebar-nav">
        <!-- Vault Section -->
        <div class="nav-section">
            <div class="nav-section-title">Vault</div>
            <a href="@Url.Action("Home", "Vault")"
               class="nav-item @(currentAction == "Home" ? "active" : "")">
                <span class="nav-item-icon">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         width="24"
                         height="24"
                         viewBox="0 0 24 24"
                         fill="none"
                         stroke="currentColor"
                         stroke-width="2"
                         stroke-linecap="round"
                         stroke-linejoin="round">
                        <path d="m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4" />
                        <path d="m21 2-9.6 9.6" />
                        <circle cx="7.5" cy="15.5" r="5.5" />
                    </svg>
                </span>
                <span class="nav-item-text">All Items</span>
                <span class="nav-item-count">@itemCount</span>
            </a>
        </div>

        <!-- Tools Section -->
        <div class="nav-section">
            <div class="nav-section-title">Tools</div>

            <!-- Password Generator -->
            <a href="#" class="nav-item" onclick="openGenerator(event)">
                <span class="nav-item-icon">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         width="24"
                         height="24"
                         viewBox="0 0 24 24"
                         fill="none"
                         stroke="currentColor"
                         stroke-width="2"
                         stroke-linecap="round"
                         stroke-linejoin="round">
                        <path d="m10.852 14.772-.383.923" />
                        <path d="M13.148 14.772a3 3 0 1 0-2.296-5.544l-.383-.923" />
                        <path d="m13.148 9.228.383-.923" />
                        <path d="m13.53 15.696-.382-.924a3 3 0 1 1-2.296-5.544" />
                        <path d="m14.772 10.852.923-.383" />
                        <path d="m14.772 13.148.923.383" />
                        <path d="M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5" />
                        <path d="M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5" />
                        <path d="M6 18h.01" />
                        <path d="M6 6h.01" />
                        <path d="m9.228 10.852-.923-.383" />
                        <path d="m9.228 13.148-.923.383" />
                    </svg>
                </span>
                <span class="nav-item-text">Password Generator</span>
            </a>

            <!-- Settings -->
            <a href="@Url.Action("Settings", "Vault")"
               class="nav-item @(currentAction == "Settings" ? "active" : "")">
                <span class="nav-item-icon">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         width="24"
                         height="24"
                         viewBox="0 0 24 24"
                         fill="none"
                         stroke="currentColor"
                         stroke-width="2"
                         stroke-linecap="round"
                         stroke-linejoin="round">
                        <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z" />
                        <circle cx="12" cy="12" r="3" />
                    </svg>
                </span>
                <span class="nav-item-text">Settings</span>
            </a>
        </div>
    </nav>

    <!-- Account Section -->
    <div class="account-section">
        <a href="@Url.Action("Settings", "Vault")" class="account-item">
            <div class="account-avatar">
                <svg xmlns="http://www.w3.org/2000/svg"
                     width="24"
                     height="24"
                     viewBox="0 0 24 24"
                     fill="none"
                     stroke="currentColor"
                     stroke-width="2"
                     stroke-linecap="round"
                     stroke-linejoin="round">
                    <circle cx="12" cy="8" r="5" />
                    <path d="M20 21a8 8 0 0 0-16 0" />
                </svg>
            </div>
            <div class="account-info">
                <div class="account-name">@userName</div>
            </div>
        </a>
    </div>
</aside>